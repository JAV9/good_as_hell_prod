(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{3060:function(t,o,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/promociones",function(){return e(5950)}])},8896:function(t,o,e){"use strict";var r=e(5893),c=e(5675),n=e.n(c),_=e(7400),i=e.n(_);let d=t=>{let{name:o,description:e,material:c,price:_,img:d,url:u,id:s,available:l,stock:a,cookieCart:p,setCookieCart:x,showAlert:h}=t,g=()=>{if(!l)return;let t=void 0===p.cart?[]:p.cart;t.push({name:o,price:_,img:d,url:u,id:s}),console.log("New cart: "),console.log(t),x("cart",t,{path:"/",maxAge:3600,sameSite:!0}),h()};return(0,r.jsxs)("div",{className:"product",style:{display:"flex",flexWrap:"wrap"},children:[(0,r.jsx)("div",{className:i().imageDisplay,children:(0,r.jsx)(n(),{src:d,alt:"producto",width:500})}),(0,r.jsxs)("div",{className:i().container,style:{maxWidth:"50%"},children:[(0,r.jsxs)("div",{className:i().productDetails,children:[(0,r.jsx)("h2",{children:o}),(0,r.jsxs)("p",{style:{display:"table",margin:"0 auto",marginTop:"10px",marginBottom:"10px",fontSize:"15px"},children:[_," â‚¬"]}),a>0&&a<=20&&(0,r.jsxs)("p",{className:i().stockWarning,children:["Only ",a," in stock!!!"]}),a>20&&(0,r.jsx)("p",{className:i().stockOk,children:"In stock"}),0===a&&(0,r.jsx)("p",{className:i().stockEmpty,children:"Out of stock"}),(0,r.jsx)("button",{type:"button",className:"button "+(l?"":i().disabled),onClick:g,children:"Comprar"})]}),(0,r.jsxs)("div",{className:i().productDescription,children:[(0,r.jsx)("h3",{style:{marginTop:"10px",marginBottom:"15px"},children:"Descripci\xf3n"}),(0,r.jsx)("p",{style:{paddingLeft:"20px",paddingRight:"20px"},children:e})]}),(0,r.jsxs)("div",{className:i().productMaterial,children:[(0,r.jsx)("h3",{style:{marginTop:"10px",marginBottom:"15px"},children:"Materiales"}),(0,r.jsx)("p",{style:{paddingLeft:"20px",paddingRight:"20px"},children:c})]})]})]})};o.Z=d},9156:function(t,o,e){"use strict";e.d(o,{Z:function(){return _}});var r=e(5893),c=e(3736),n=e.n(c);function _(t){let{status:o,message:e,hidden:c,setHidden:_,canExit:i=!0}=t,d="",u="";return"success"===o?(d="\xa1\xc9xito!",u=n().success):"warning"===o&&(d="\xa1Atenci\xf3n!",u=n().warning),(0,r.jsxs)("div",{className:"".concat(n().container," ").concat(u)+" "+(c?n().hidden:""),children:[i&&void(n().closeButton,()=>_(!0)),(0,r.jsx)("strong",{children:d})," ",e]})}e(7294)},5950:function(t,o,e){"use strict";e.r(o),e.d(o,{default:function(){return a}});var r=e(5893),c=e(1163),n=e(7294);e(1664);var _=e(9734),i=e(9008),d=e.n(i),u=e(8896),s=e(9156);let l=t=>{let{cookieCart:o,setCookieCart:e,id:c,user:_,product:i,title:d,url:l,content:a,username:p,cod_ref:x,product_name:h,product_price:g,product_img:m,product_url:P,product_stock:b,product_description:f,product_material:v,categories:j}=t,[y,k]=(0,n.useState)(!0),w=b>0,N=()=>{k(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:d}),(0,r.jsx)("section",{className:"promotion-content",style:{marginTop:"20px",padding:"20px"},dangerouslySetInnerHTML:{__html:a}}),(0,r.jsxs)("div",{className:"promotion-product",children:[(0,r.jsx)(s.Z,{status:w?"success":"warning",message:w?"Producto a\xf1adido a la cesta":"Producto no disponible",hidden:y&&w,setHidden:k,canExit:w}),(0,r.jsx)(u.Z,{name:h,price:g,img:"https://vm20.containers.fdi.ucm.es/api/uploads/"+m,id:i,url:P,available:w,categories:j,material:v,description:f,cookieCart:o,setCookieCart:e,showAlert:N})]})]})};function a(t){let{cookie:o,setCookie:e,cookieCart:n,setCookieCart:i}=t,u=(0,c.useRouter)();console.log(u.asPath);let s=u.query.p,{data:a,error:p,isLoading:x}=function(t){let{data:o,error:e,isLoading:r}=(0,_.ZP)("/api/getPost.php?url="+t,function(){for(var t=arguments.length,o=Array(t),e=0;e<t;e++)o[e]=arguments[e];return fetch(...o).then(t=>t.json())});return{data:o,error:e,isLoading:r}}(s);console.log("data",a);let h=(0,r.jsx)(d(),{children:(0,r.jsx)("title",{children:(null==a?void 0:a.title)?null==a?void 0:a.title:u.query.p})}),g=(0,r.jsx)(r.Fragment,{});return u.query.p?x?g=(0,r.jsx)("div",{children:"Cargando..."}):void 0!==a&&(g=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l,{cookieCart:n,setCookieCart:i,id:null==a?void 0:a.id,user:null==a?void 0:a.user,product:null==a?void 0:a.product,title:null==a?void 0:a.title,url:null==a?void 0:a.url,content:null==a?void 0:a.content,username:null==a?void 0:a.username,cod_ref:null==a?void 0:a.cod_ref,product_name:null==a?void 0:a.product_name,product_price:null==a?void 0:a.product_price,product_img:null==a?void 0:a.product_img,product_url:null==a?void 0:a.product_url,product_stock:null==a?void 0:a.product_stock,product_material:null==a?void 0:a.product_material,product_description:null==a?void 0:a.product_description,categories:null==a?void 0:a.categories})})):g=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{children:"Esta promoci\xf3n no existe."})}),(0,r.jsxs)(r.Fragment,{children:[h,g]})}},3736:function(t){t.exports={container:"Alert_container__JZ6KE",success:"Alert_success__uY4Zs",warning:"Alert_warning__K19x1",closeButton:"Alert_closeButton__tLxe_",hidden:"Alert_hidden__5MRcS"}},7400:function(t){t.exports={main:"Product_main__D1T_V",description:"Product_description__gEFO7",code:"Product_code__07tii",grid:"Product_grid__0Nj6T",card:"Product_card__c2BI6",center:"Product_center__pC25y",logo:"Product_logo__nrE2_",thirteen:"Product_thirteen__5EVaS",rotate:"Product_rotate__e1Iy1",content:"Product_content__HNT8V",vercelLogo:"Product_vercelLogo__Tkz5B",main_category:"Product_main_category__Q_z_B",category_overtext:"Product_category_overtext__hfRAg",product:"Product_product__8Nmu7",white_box:"Product_white_box__kOORt",small_white_box:"Product_small_white_box__NLfSE",white_box_medium:"Product_white_box_medium__yAQA0",color_selection:"Product_color_selection__sKmv6",size_selection:"Product_size_selection__hcR69","buy-now-btn":"Product_buy-now-btn__VW7S9",orange_button:"Product_orange_button__2hXWK",option:"Product_option__tJ6hS","option-buttons":"Product_option-buttons__cGeUG","color-buttons":"Product_color-buttons__sytol",color_button_red:"Product_color_button_red__B4geO",color_button_green:"Product_color_button_green__yxtll",color_button_blue:"Product_color_button_blue__NaN0h","color-option":"Product_color-option__X8Qor","size-option":"Product_size-option__pcO3h","button-panel":"Product_button-panel__pkypg","add-to-cart-btn":"Product_add-to-cart-btn__GBOsM",hidden:"Product_hidden__w42X8",form:"Product_form__OaV6h",input:"Product_input__rM0Za",button:"Product_button__Y2bJ_",label:"Product_label___xK8j",checkbox:"Product_checkbox__t1iw_",labelText:"Product_labelText__Qrh_0",asideText:"Product_asideText__qeUY4",registerText:"Product_registerText__xkLAf",registerLink:"Product_registerLink__EsB2b",textarea:"Product_textarea__BmnuD",imageDisplay:"Product_imageDisplay__ezuSf",disabled:"Product_disabled__J3KZN",productTitle:"Product_productTitle__RW_Yd",productImage:"Product_productImage___lQWd",productDetails:"Product_productDetails__YWtRh",stockWarning:"Product_stockWarning__LhgLL",stockOk:"Product_stockOk__Ag7Ga",stockEmpty:"Product_stockEmpty__pYOBD",productButton:"Product_productButton__YaiIO",productDescription:"Product_productDescription__DYizj",productMaterial:"Product_productMaterial__qZequ",whiteBox:"Product_whiteBox__u6pWE",left:"Product_left___u7T_",right:"Product_right__N57Mb",container:"Product_container__zjexK"}},9008:function(t,o,e){t.exports=e(2636)},1163:function(t,o,e){t.exports=e(6885)}},function(t){t.O(0,[734,774,888,179],function(){return t(t.s=3060)}),_N_E=t.O()}]);