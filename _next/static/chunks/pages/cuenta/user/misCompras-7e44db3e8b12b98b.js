(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{191:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cuenta/user/misCompras",function(){return t(987)}])},9372:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(9734);function s(e){let{data:n,error:t,isLoading:s}=(0,r.ZP)("/api/getUser.php?id="+e,function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return fetch(...n).then(e=>e.json())});return{data:n,error:t,isLoading:s}}},5831:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(9734);function s(){let{data:e,error:n,isLoading:t}=(0,r.ZP)("/api/listPayment.php",function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return fetch(...n).then(e=>e.json())});return{data:e,error:n,isLoading:t}}},987:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var r=t(5893),s=t(1163);t(7294);var a=t(1664),c=t.n(a),o=t(9372);t(5831);var i=t(9008),u=t.n(i);function l(e){let{cookie:n,setCookie:t}=e,a=(0,s.useRouter)();console.log(a.query);let{data:i,error:l,isLoading:d}=(0,o.Z)(a.query.u);console.log("data",i);let h=(0,r.jsx)(u(),{children:(0,r.jsx)("title",{children:"Mis compras"})}),f=(0,r.jsx)(r.Fragment,{});return a.query.u?d?f=(0,r.jsx)("div",{children:"Cargando..."}):void 0!==i&&(f=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(c(),{href:"/cuenta/user",children:(0,r.jsx)("button",{className:"nav-button",children:"Atr\xe1s"})}),(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"Has realizado las siguientes compras:"})}),(0,r.jsx)("ul",{id:"lista-pagos"})]})}),fetch("/api/listPayment.php?user="+a.query.u).then(e=>e.json()).then(e=>{let n=document.querySelector("#lista-pagos");e.forEach(e=>{let t=document.createElement("li");t.textContent="Fecha: ".concat(e.createdAt,", Importe: ").concat(e.total,", Estado: ").concat(e.state),null==n||n.appendChild(t)})}).catch(e=>console.log("Error al obtener la lista de pagos:",e))):f=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"No tienes permiso para ver esta p\xe1gina."}),(0,r.jsx)(c(),{href:"/cuenta/user",children:(0,r.jsx)("button",{className:"nav-button",children:"Atr\xe1s"})})]}),(0,r.jsxs)(r.Fragment,{children:[h,f]})}},9008:function(e,n,t){e.exports=t(2636)},1163:function(e,n,t){e.exports=t(6885)}},function(e){e.O(0,[734,774,888,179],function(){return e(e.s=191)}),_N_E=e.O()}]);