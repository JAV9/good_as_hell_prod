(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{191:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cuenta/user/misCompras",function(){return n(987)}])},9372:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(9734);function s(e){let{data:t,error:n,isLoading:s}=(0,r.ZP)("/api/getUser.php?id="+e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return fetch(...t).then(e=>e.json())});return{data:t,error:n,isLoading:s}}},5831:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(9734);function s(){let{data:e,error:t,isLoading:n}=(0,r.ZP)("/api/listPayment.php",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return fetch(...t).then(e=>e.json())});return{data:e,error:t,isLoading:n}}},987:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(5893),s=n(1163);n(7294);var a=n(1664),o=n.n(a),c=n(9372);n(5831);var u=n(9008),i=n.n(u);function l(e){let{cookie:t,setCookie:n}=e,a=(0,s.useRouter)();console.log(a.query);let{data:u,error:l,isLoading:h}=(0,c.Z)(a.query.u);console.log("data",u);let d=(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Mis compras"})}),f=(0,r.jsx)(r.Fragment,{});return a.query.u?h?f=(0,r.jsx)("div",{children:"Cargando..."}):void 0!==u&&(f=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"Has realizado las siguientes compras:"})}),(0,r.jsx)("ul",{id:"lista-pagos"}),(0,r.jsx)(o(),{href:"/cuenta/user",children:(0,r.jsx)("button",{className:"nav-button",children:"Atr\xe1s"})})]}),fetch("/api/listPayment.php?user="+a.query.u).then(e=>e.json()).then(e=>{let t=document.querySelector("#lista-pagos");e.forEach(e=>{let n=document.createElement("li");n.textContent="Fecha: ".concat(e.createdAt,", Importe: ").concat(e.total,", Estado: ").concat(e.state),null==t||t.appendChild(n)})}).catch(e=>console.log("Error al obtener la lista de pagos:",e))):f=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"No tienes permiso para ver esta p\xe1gina."}),(0,r.jsx)(o(),{href:"/cuenta/user",children:(0,r.jsx)("button",{className:"nav-button",children:"Atr\xe1s"})})]}),(0,r.jsxs)(r.Fragment,{children:[d,f]})}},9008:function(e,t,n){e.exports=n(2636)},1163:function(e,t,n){e.exports=n(6885)}},function(e){e.O(0,[734,774,888,179],function(){return e(e.s=191)}),_N_E=e.O()}]);