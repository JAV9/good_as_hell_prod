(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{3443:function(t,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cuenta/user/misDatos",function(){return o(6589)}])},9372:function(t,e,o){"use strict";o.d(e,{Z:function(){return _}});var r=o(9734);function _(t){let{data:e,error:o,isLoading:_}=(0,r.ZP)("/api/getUser.php?id="+t,function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return fetch(...e).then(t=>t.json())});return{data:e,error:o,isLoading:_}}},6589:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return p}});var r=o(5893),_=o(1163),n=o(7294),a=o(1664),c=o.n(a),u=o(9372),i=o(9008),s=o.n(i),d=o(7400),l=o.n(d);function p(t){let{cookie:e,setCookie:o}=t,a=(0,_.useRouter)();console.log(a.query);let{data:i,error:d,isLoading:p}=(0,u.Z)(a.query.u);console.log("data",i);let h=t=>{let{uname:e,uid:o,ulastname:_,uaddress:a,uemail:u,upwd:i,uinfluencer:s}=t,[d,p]=(0,n.useState)(o),[h,m]=(0,n.useState)(u),[x,P]=(0,n.useState)(""),[g,b]=(0,n.useState)(e),[f,j]=(0,n.useState)(_),[N,v]=(0,n.useState)(a),[y,w]=(0,n.useState)(s),[k,T]=(0,n.useState)(!1),S=()=>{T(!k)};async function O(){let t={id:d,name:g,lastname:f,address:N,email:h,influencer:y};""!=x&&(t.pwd=x),console.log("args",t),g.length>0&&h.length>0?await fetch("/api/updateUser.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{200==t.code&&(console.log("user actualizado"),alert("Usuario actualizado!"))}):alert("Nombre, email no puedem estar vac\xedos")}let E=t=>{O(),t.preventDefault()};return(0,r.jsxs)("div",{className:"user-form",children:[(0,r.jsxs)("form",{className:l().form,method:"POST",onSubmit:E,children:[(0,r.jsx)("div",{className:"field",children:(0,r.jsx)("input",{className:l().input,type:"text",name:"name",value:g,onChange:t=>b(t.target.value),placeholder:"Nombre"})}),(0,r.jsx)("div",{className:"field",children:(0,r.jsx)("input",{className:l().input,type:"text",name:"lastname",value:f,onChange:t=>j(t.target.value),placeholder:"Apellido(s)"})}),(0,r.jsx)("div",{className:"field",children:(0,r.jsx)("input",{className:l().input,type:"text",name:"address",value:N,onChange:t=>v(t.target.value),placeholder:"Direcci\xf3n"})}),(0,r.jsx)("div",{className:"field",children:(0,r.jsx)("input",{className:l().input,type:"text",name:"email",value:h,onChange:t=>m(t.target.value),placeholder:"E-mail"})}),(0,r.jsx)("div",{className:"field",children:(0,r.jsx)("input",{className:l().input,type:k?"text":"password",name:"pwd",value:x,onChange:t=>P(t.target.value),placeholder:"Contrase\xf1a - Rellenar solo si deseas modificarla"})}),(0,r.jsxs)("label",{className:l().label,children:[(0,r.jsx)("input",{className:l().checkbox,type:"checkbox",onClick:S}),(0,r.jsx)("span",{className:l().labelText,children:"Muestra contrase\xf1a"})]}),(0,r.jsx)("input",{className:l().button,type:"submit",value:"Actualizar usuario"})]}),(0,r.jsx)(c(),{href:"/cuenta/user",children:(0,r.jsx)("button",{className:"nav-button",children:"Atr\xe1s"})})]})},m=(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"Mis datos"})}),x=(0,r.jsx)(r.Fragment,{});return a.query.u?p?x=(0,r.jsx)("div",{children:"Cargando..."}):void 0!==i&&(x=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h,{uid:i.id,uname:i.name,ulastname:i.lastname,uaddress:i.address,uemail:i.email,upwd:i.pwd,uinfluencer:i.influencer})})):x=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{children:"No tienes permiso para ver esta p\xe1gina."})}),(0,r.jsxs)(r.Fragment,{children:[m,x]})}},7400:function(t){t.exports={main:"Product_main__D1T_V",description:"Product_description__gEFO7",code:"Product_code__07tii",grid:"Product_grid__0Nj6T",card:"Product_card__c2BI6",center:"Product_center__pC25y",logo:"Product_logo__nrE2_",thirteen:"Product_thirteen__5EVaS",rotate:"Product_rotate__e1Iy1",content:"Product_content__HNT8V",vercelLogo:"Product_vercelLogo__Tkz5B",main_category:"Product_main_category__Q_z_B",category_overtext:"Product_category_overtext__hfRAg",product:"Product_product__8Nmu7",white_box:"Product_white_box__kOORt",small_white_box:"Product_small_white_box__NLfSE",white_box_medium:"Product_white_box_medium__yAQA0",color_selection:"Product_color_selection__sKmv6",size_selection:"Product_size_selection__hcR69","buy-now-btn":"Product_buy-now-btn__VW7S9",orange_button:"Product_orange_button__2hXWK",option:"Product_option__tJ6hS","option-buttons":"Product_option-buttons__cGeUG","color-buttons":"Product_color-buttons__sytol",color_button_red:"Product_color_button_red__B4geO",color_button_green:"Product_color_button_green__yxtll",color_button_blue:"Product_color_button_blue__NaN0h","color-option":"Product_color-option__X8Qor","size-option":"Product_size-option__pcO3h","button-panel":"Product_button-panel__pkypg","add-to-cart-btn":"Product_add-to-cart-btn__GBOsM",hidden:"Product_hidden__w42X8",form:"Product_form__OaV6h",input:"Product_input__rM0Za",button:"Product_button__Y2bJ_",label:"Product_label___xK8j",checkbox:"Product_checkbox__t1iw_",labelText:"Product_labelText__Qrh_0",asideText:"Product_asideText__qeUY4",registerText:"Product_registerText__xkLAf",registerLink:"Product_registerLink__EsB2b",textarea:"Product_textarea__BmnuD",imageDisplay:"Product_imageDisplay__ezuSf",disabled:"Product_disabled__J3KZN",productTitle:"Product_productTitle__RW_Yd",productImage:"Product_productImage___lQWd",productDetails:"Product_productDetails__YWtRh",stockWarning:"Product_stockWarning__LhgLL",stockOk:"Product_stockOk__Ag7Ga",stockEmpty:"Product_stockEmpty__pYOBD",productButton:"Product_productButton__YaiIO",productDescription:"Product_productDescription__DYizj",productMaterial:"Product_productMaterial__qZequ",whiteBox:"Product_whiteBox__u6pWE",left:"Product_left___u7T_",right:"Product_right__N57Mb",container:"Product_container__zjexK"}},9008:function(t,e,o){t.exports=o(2636)},1163:function(t,e,o){t.exports=o(6885)}},function(t){t.O(0,[734,774,888,179],function(){return t(t.s=3443)}),_N_E=t.O()}]);