(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[554],{993:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cuenta/admin/productos/crear",function(){return n(9122)}])},9122:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(5893);n(5675);var r=n(1553),l=n.n(r),c=n(7294),i=n(1664),o=n.n(i);let s=e=>{let{name:t,setName:n,price:r,setPrice:c,img:i,setImg:o,available:s,setAvailable:d}=e;async function u(){console.log(i);let e=new FormData;e.append("name",t),e.append("price",r),e.append("img",i),e.append("available",s),console.log(e),t.length>0?await fetch("/api/createProduct.php",{method:"POST",body:e}).then(e=>e.json()).then(e=>{200==e.code&&(console.log("producto creado"),alert("Producto creado!"),n(""),c(0),o(""),d(!1))}):alert("El nombre no puede estar vac\xedo")}return(0,a.jsx)("div",{children:(0,a.jsxs)("form",{method:"POST",className:l().form,children:[(0,a.jsx)("div",{className:"field",children:(0,a.jsx)("input",{className:l().input,type:"text",name:"email",value:t,onChange:e=>n(e.target.value),placeholder:"Nombre del producto"})}),(0,a.jsx)("div",{className:"field",children:(0,a.jsx)("input",{className:l().input,type:"number",name:"price",value:r,onChange:e=>c(e.target.value),placeholder:"Precio"})}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("input",{className:l().input,type:"file",name:"img",onChange:e=>{console.log(e.target.files[0]),o(e.target.files[0])},placeholder:"Imagen"}),i&&(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{alt:"not found",width:"250px",src:URL.createObjectURL(i)}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{onClick:()=>o(null),children:"Eliminar imagen"})]})]}),(0,a.jsxs)("label",{className:l().label,children:[(0,a.jsx)("input",{className:l().checkbox,type:"checkbox",onClick:function(){d(1==s?0:1)}}),(0,a.jsx)("span",{className:l().labelText,children:"Disponible"})]}),(0,a.jsx)("input",{className:"button",type:"button",value:"Crear producto",onClick:u})]})})};function d(e){var t;let{cookie:n,setCookie:r}=e,[l,i]=(0,c.useState)(""),[d,u]=(0,c.useState)(0),[p,m]=(0,c.useState)(null),[_,h]=(0,c.useState)(0);return(null===(t=n.user)||void 0===t?void 0:t.admin)===1?(0,a.jsxs)("div",{children:[(0,a.jsx)(o(),{href:"/cuenta/admin/productos",children:(0,a.jsx)("button",{className:"nav-button",children:"Atr\xe1s"})}),(0,a.jsx)(s,{name:l,setName:i,price:d,setPrice:u,img:p,setImg:m,available:_,setAvailable:h})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{children:"No eres admin, redirigir a cuenta"})})}},1553:function(e){e.exports={hidden:"Product_hidden__TJmD6",form:"Product_form__9oBf2",input:"Product_input__CZJLW",button:"Product_button__O4U5w",label:"Product_label__m45_S",checkbox:"Product_checkbox__aPxwX",labelText:"Product_labelText__NMVH3",asideText:"Product_asideText__CYmXI",registerText:"Product_registerText__Gb7rD",registerLink:"Product_registerLink__MgSyI"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=993)}),_N_E=e.O()}]);